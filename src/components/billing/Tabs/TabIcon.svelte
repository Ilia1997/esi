<script>
  import { beforeUpdate } from "svelte";

  export let categoryName;
  import { allowItemIndexBilling } from "../../../stores/billingStore";
  let classNamePayment = "",
    classNameAddress = "";
   
  beforeUpdate(() => {
    if ($allowItemIndexBilling === 2) {
      classNameAddress = "active";
      classNamePayment = "active";
    } else if ($allowItemIndexBilling === 1) {
      classNameAddress = "active";
      classNamePayment = "";
    }
  });
</script>

<div class="icon__wrapper ">
  {#if categoryName === "Address"}
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="14"
      height="14"
      viewBox="0 0 14 14"
      fill="none"
      class={classNameAddress}
    >
      <g clip-path="url(#clip0_3547_4001)">
        <path
          d="M6.99935 3.5C6.53786 3.5 6.08673 3.63685 5.70302 3.89324C5.31931 4.14963 5.02024 4.51404 4.84363 4.94041C4.66703 5.36677 4.62082 5.83592 4.71085 6.28854C4.80088 6.74117 5.02311 7.15693 5.34943 7.48325C5.67576 7.80957 6.09152 8.0318 6.54414 8.12183C6.99676 8.21186 7.46592 8.16566 7.89228 7.98905C8.31864 7.81245 8.68306 7.51338 8.93945 7.12966C9.19584 6.74595 9.33268 6.29482 9.33268 5.83333C9.33268 5.21449 9.08685 4.621 8.64927 4.18342C8.21168 3.74583 7.61819 3.5 6.99935 3.5ZM6.99935 7C6.76861 7 6.54304 6.93158 6.35119 6.80338C6.15933 6.67519 6.00979 6.49298 5.92149 6.2798C5.83319 6.06662 5.81008 5.83204 5.8551 5.60573C5.90012 5.37942 6.01123 5.17154 6.17439 5.00838C6.33755 4.84521 6.54543 4.7341 6.77174 4.68908C6.99806 4.64407 7.23263 4.66717 7.44581 4.75547C7.65899 4.84378 7.8412 4.99331 7.9694 5.18517C8.09759 5.37703 8.16602 5.60259 8.16602 5.83333C8.16602 6.14275 8.0431 6.4395 7.82431 6.65829C7.60552 6.87708 7.30877 7 6.99935 7Z"
          fill="#E4E4E4"
        />
        <path
          d="M7.00018 13.9999C6.50898 14.0025 6.02433 13.8873 5.5868 13.664C5.14928 13.4407 4.77161 13.1158 4.48543 12.7166C2.26235 9.65003 1.13477 7.3447 1.13477 5.8642C1.13477 4.30859 1.75273 2.8167 2.85271 1.71672C3.95269 0.616741 5.44458 -0.0012207 7.00018 -0.0012207C8.55579 -0.0012207 10.0477 0.616741 11.1477 1.71672C12.2476 2.8167 12.8656 4.30859 12.8656 5.8642C12.8656 7.3447 11.738 9.65003 9.51493 12.7166C9.22875 13.1158 8.85109 13.4407 8.41356 13.664C7.97604 13.8873 7.49138 14.0025 7.00018 13.9999ZM7.00018 1.2722C5.78243 1.27359 4.61494 1.75795 3.75386 2.61904C2.89277 3.48012 2.40841 4.64761 2.40702 5.86536C2.40702 7.03786 3.51127 9.20611 5.5156 11.9705C5.68575 12.2049 5.90898 12.3957 6.16702 12.5272C6.42505 12.6587 6.71056 12.7273 7.00018 12.7273C7.28981 12.7273 7.57532 12.6587 7.83335 12.5272C8.09138 12.3957 8.31461 12.2049 8.48477 11.9705C10.4891 9.20611 11.5934 7.03786 11.5934 5.86536C11.592 4.64761 11.1076 3.48012 10.2465 2.61904C9.38542 1.75795 8.21794 1.27359 7.00018 1.2722Z"
          fill="#E4E4E4"
        />
      </g>
      <defs>
        <clipPath id="clip0_3547_4001">
          <rect width="14" height="14" fill="white" />
        </clipPath>
      </defs>
    </svg>
    <div class="icon__line {classNameAddress}" />

  {:else if categoryName === "Payment"}
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="14"
      height="14"
      viewBox="0 0 14 14"
      fill="none"
      class={classNamePayment}
    >
      <path
        d="M13.4615 6.46043H9.69231C8.51092 6.46043 7.53846 7.43289 7.53846 8.61428C7.53846 9.79566 8.51092 10.7681 9.69231 10.7681H11.8462V12.3835C11.8462 12.6791 11.6033 12.922 11.3077 12.922H2.69231C1.806 12.922 1.07692 12.1929 1.07692 11.3066V3.22966C1.07692 2.34335 1.806 1.61428 2.69231 1.61428H3.76923C4.06485 1.61428 4.30769 1.37143 4.30769 1.07582C4.30769 0.7802 4.06485 0.537354 3.76923 0.537354H2.69231C1.21531 0.537354 0 1.75266 0 3.22966V11.3066C0 12.7836 1.21531 13.9989 2.69231 13.9989H11.3077C12.194 13.9989 12.9231 13.2698 12.9231 12.3835V10.7681H13.4615C13.7572 10.7681 14 10.5253 14 10.2297V6.99889C14 6.70328 13.7572 6.46043 13.4615 6.46043ZM12.9231 9.6912H9.69231C9.10162 9.6912 8.61539 9.20497 8.61539 8.61428C8.61539 8.02358 9.10162 7.53735 9.69231 7.53735H12.9231V9.6912Z"
        fill="#E4E4E4"
      />
      <path
        d="M2.49857 2.72842C1.89765 2.99065 2.09634 3.76765 2.69242 3.76765H11.3078C11.6034 3.76765 11.8463 4.01049 11.8463 4.30611V4.84457C11.8463 5.14019 12.0891 5.38303 12.3847 5.38303C12.6803 5.38303 12.9232 5.14019 12.9232 4.84457V4.30611C12.9226 3.87803 12.7525 3.46719 12.4493 3.16457C12.1467 2.86142 11.7359 2.69126 11.3078 2.69072H11.1355L10.1932 0.337648C10.0839 0.0657245 9.77157 -0.0699679 9.49857 0.0361091L2.49857 2.72842ZM9.97242 2.69072H5.59473L9.39088 1.23149L9.97242 2.69072Z"
        fill="#E4E4E4"
      />
    </svg>

    <div class="icon__line {classNamePayment}" />
  {/if}
</div>

<style>
  .icon__wrapper {
    width: 24px;
    height: 22px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
  }
  .icon__wrapper.active {
  }
  .icon__line {
    margin-top: 6px;
    width: 24px;
    height: 2px;
    background: #d9d9d9;
    border-radius: 20px;
  }
  .icon__line.active {
    background: #5b9c42;
  }
  svg.active path {
    fill: #5b9c42;
  }
</style>
